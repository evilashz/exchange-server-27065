using System;
using System.Collections;
using System.Collections.Generic;

namespace Microsoft.Exchange.Transport.Agent.Malware
{
	// Token: 0x02000037 RID: 55
	[Serializable]
	internal class MalwareFingerPrint : IEquatable<MalwareFingerPrint>
	{
		// Token: 0x06000149 RID: 329 RVA: 0x00009DEC File Offset: 0x00007FEC
		public MalwareFingerPrint(byte[] fingerPrint)
		{
			if (fingerPrint == null || fingerPrint.Length == 0)
			{
				throw new ArgumentException("Invalid Fingerprint value");
			}
			this.fingerPrint = fingerPrint;
		}

		// Token: 0x0600014A RID: 330 RVA: 0x00009E0E File Offset: 0x0000800E
		public bool Equals(MalwareFingerPrint otherObj)
		{
			return otherObj != null && this.IsEquals(this.fingerPrint, otherObj.fingerPrint);
		}

		// Token: 0x0600014B RID: 331 RVA: 0x00009E28 File Offset: 0x00008028
		public override bool Equals(object otherObj)
		{
			if (otherObj == null)
			{
				return false;
			}
			MalwareFingerPrint malwareFingerPrint = otherObj as MalwareFingerPrint;
			return malwareFingerPrint != null && this.IsEquals(this.fingerPrint, malwareFingerPrint.fingerPrint);
		}

		// Token: 0x0600014C RID: 332 RVA: 0x00009E58 File Offset: 0x00008058
		public override int GetHashCode()
		{
			return ((IStructuralEquatable)this.fingerPrint).GetHashCode(EqualityComparer<object>.Default);
		}

		// Token: 0x0600014D RID: 333 RVA: 0x00009E6C File Offset: 0x0000806C
		private bool IsEquals(byte[] first, byte[] second)
		{
			if (first == null || second == null || first.Length != second.Length)
			{
				return false;
			}
			for (int i = 0; i < first.Length; i++)
			{
				if (first[i] != second[i])
				{
					return false;
				}
			}
			return true;
		}

		// Token: 0x04000146 RID: 326
		private byte[] fingerPrint;
	}
}
