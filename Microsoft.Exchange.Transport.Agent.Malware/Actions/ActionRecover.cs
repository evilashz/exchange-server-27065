using System;
using Microsoft.Exchange.Data.Transport.Routing;
using Microsoft.Exchange.Diagnostics.Components.MalwareAgent;

namespace Microsoft.Exchange.Transport.Agent.Malware.Actions
{
	// Token: 0x02000007 RID: 7
	internal class ActionRecover : ActionDeferForever
	{
		// Token: 0x06000018 RID: 24 RVA: 0x00002F9A File Offset: 0x0000119A
		public ActionRecover(RecoveryDelegate recoveryDelegate)
		{
			this.recoveryDelegate = recoveryDelegate;
		}

		// Token: 0x06000019 RID: 25 RVA: 0x00002FA9 File Offset: 0x000011A9
		public override void Execute(ScanContext context, SubmittedMessageEventSource source, QueuedMessageEventArgs args)
		{
			ExTraceGlobals.ActionsTracer.TraceDebug((long)this.GetHashCode(), "Begin ActionRecover.Execute.");
			this.recoveryDelegate();
			base.Execute(context, source, args);
		}

		// Token: 0x04000004 RID: 4
		private RecoveryDelegate recoveryDelegate;
	}
}
